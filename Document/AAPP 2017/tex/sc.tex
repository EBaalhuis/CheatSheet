\begin{minted}[tabsize=4,obeytabs]{java}
// Input is modular equations x = r[i] mod m[i].
// The m[i] must be rel. prime. Returns x.
static long SC(long[] r, long[] mods) {
	int n = r.length;
	long p = 1;
	for (int i = 0; i < n; i++) 
		p *= mods[i];
	long[] m = new long[n];
	for (int i = 0; i < n; i++) 
		m[i] = p / mods[i];
		
	long[] N = new long[n];
	for (int i = 0; i < n; i++) 
		N[i] = (r[i] * modInv(m[i], mods[i])) % mods[i];
		
	long x = 0;
	for (int i = 0; i < n; i++) 
		x += m[i] * N[i];
		
	return ((x % p) + p) % p;
}
\end{minted}